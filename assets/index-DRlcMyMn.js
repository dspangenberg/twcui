import{r}from"./index-DmM0KDA7.js";import{j as l}from"./jsx-runtime-D_zvdyIk.js";function $(e,t=[]){let s=[];function i(x,n){const o=r.createContext(n),c=s.length;s=[...s,n];const p=f=>{var v;const{scope:u,children:d,...m}=f,C=((v=u==null?void 0:u[e])==null?void 0:v[c])||o,h=r.useMemo(()=>m,Object.values(m));return l.jsx(C.Provider,{value:h,children:d})};p.displayName=x+"Provider";function S(f,u){var C;const d=((C=u==null?void 0:u[e])==null?void 0:C[c])||o,m=r.useContext(d);if(m)return m;if(n!==void 0)return n;throw new Error(`\`${f}\` must be used within \`${x}\``)}return[p,S]}const a=()=>{const x=s.map(n=>r.createContext(n));return function(o){const c=(o==null?void 0:o[e])||x;return r.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[i,E(a,...t)]}function E(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(x){const n=i.reduce((o,{useScope:c,scopeName:p})=>{const f=c(x)[`__scope${p}`];return{...o,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return s.scopeName=t.scopeName,s}function j(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...s)=>{var i;return(i=t.current)==null?void 0:i.call(t,...s)},[])}var M=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{};export{M as a,$ as c,j as u};
