import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{r as i}from"./index-DmM0KDA7.js";import{c as P,u as q,a as y}from"./index-DRlcMyMn.js";import{P as g}from"./index-DLLQmerD.js";import{c as f}from"./utils-jAU0Cazi.js";import"./index-CnHy7ftH.js";import"./index-nLeaPAJ8.js";import"./index-H4xlWPiK.js";var v="Avatar",[V,aa]=P(v),[D,C]=V(v),_=i.forwardRef((a,e)=>{const{__scopeAvatar:o,...t}=a,[s,r]=i.useState("idle");return n.jsx(D,{scope:o,imageLoadingStatus:s,onImageLoadingStatusChange:r,children:n.jsx(g.span,{...t,ref:e})})});_.displayName=v;var j="AvatarImage",k=i.forwardRef((a,e)=>{const{__scopeAvatar:o,src:t,onLoadingStatusChange:s=()=>{},...r}=a,d=C(j,o),c=$(t,r.referrerPolicy),l=q(u=>{s(u),d.onImageLoadingStatusChange(u)});return y(()=>{c!=="idle"&&l(c)},[c,l]),c==="loaded"?n.jsx(g.img,{...r,ref:e,src:t}):null});k.displayName=j;var L="AvatarFallback",F=i.forwardRef((a,e)=>{const{__scopeAvatar:o,delayMs:t,...s}=a,r=C(L,o),[d,c]=i.useState(t===void 0);return i.useEffect(()=>{if(t!==void 0){const l=window.setTimeout(()=>c(!0),t);return()=>window.clearTimeout(l)}},[t]),d&&r.imageLoadingStatus!=="loaded"?n.jsx(g.span,{...s,ref:e}):null});F.displayName=L;function $(a,e){const[o,t]=i.useState("idle");return y(()=>{if(!a){t("error");return}let s=!0;const r=new window.Image,d=c=>()=>{s&&t(c)};return t("loading"),r.onload=d("loaded"),r.onerror=d("error"),r.src=a,e&&(r.referrerPolicy=e),()=>{s=!1}},[a,e]),o}var B=_,W=k,G=F;function w({className:a,...e}){return n.jsx(B,{"data-slot":"avatar",className:f("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...e})}function E({className:a,...e}){return n.jsx(W,{"data-slot":"avatar-image",className:f("aspect-square size-full",a),...e})}function T({className:a,...e}){return n.jsx(G,{"data-slot":"avatar-fallback",className:f("bg-muted flex size-full items-center justify-center rounded-full",a),...e})}w.__docgenInfo={description:"",methods:[],displayName:"Avatar"};E.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};T.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};function K(a){const e=a.replace("#",""),o=Number.parseInt(e.slice(0,2),16),t=Number.parseInt(e.slice(2,4),16),s=Number.parseInt(e.slice(4,6),16);return(o*299+t*587+s*114)/1e3>125?"#000000":"#FFFFFF"}const b=["#00bcf2","#0078d4","#002050","#008272","#bad80a","#004b1c","#e3008c","#b4a0ff","#5c2d91","#000000","#d83b01","#e81123","#a80000","#e81123","#5c005c","#b4a0ff","#00188f"];function R({fullname:a="",initials:e="",src:o="",className:t=""}){const[s,r]=i.useState(""),[d,c]=i.useState("");return i.useEffect(()=>{if(a){const l=a.split("").reduce((z,M)=>z+M.charCodeAt(0),0)%b.length,u=b[l];r(u),c(K(u))}},[a]),n.jsx("div",{className:"border rounded-full border-border","data-testid":"avatar-container",children:n.jsxs(w,{className:f("size-9 rounded-full border-transparent border-2",t),"data-testid":"avatar",children:[n.jsx(E,{src:o,alt:a}),n.jsx(T,{style:{backgroundColor:s,color:d},className:"rounded-full",children:e})]})})}R.__docgenInfo={description:"",methods:[],displayName:"Avatar",props:{fullname:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},initials:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},src:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}}}};const ea={title:"Components/Avatar",component:R,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{onClick:{action:"clicked"}}},m={args:{src:"https://avatars.githubusercontent.com/u/166466?v=4",className:"size-12"}},p={args:{initials:"DS",fullname:"Danny Spangenberg"}};var A,x,S;m.parameters={...m.parameters,docs:{...(A=m.parameters)==null?void 0:A.docs,source:{originalSource:`{
  args: {
    src: 'https://avatars.githubusercontent.com/u/166466?v=4',
    className: 'size-12'
  }
}`,...(S=(x=m.parameters)==null?void 0:x.docs)==null?void 0:S.source}}};var h,I,N;p.parameters={...p.parameters,docs:{...(h=p.parameters)==null?void 0:h.docs,source:{originalSource:`{
  args: {
    initials: 'DS',
    fullname: 'Danny Spangenberg'
  }
}`,...(N=(I=p.parameters)==null?void 0:I.docs)==null?void 0:N.source}}};const ta=["Size","WithoutImage"];export{m as Size,p as WithoutImage,ta as __namedExportsOrder,ea as default};
